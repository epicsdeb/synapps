#! Generated by VisualDCT v2.6
#! DBDSTART
#! DBD("../../../../xxx/dbd/iocxxxVX.dbd")
#! DBDEND


record(mbbo, "$(P)interp$(Q=)_mode") {
  field(ZRVL, "0")
  field(ONVL, "1")
  field(ZRST, "Interpolate")
  field(ONST, "Add Entry")
  field(NOBT, "2")
  field(TWVL, "2")
  field(TWST, "Clear All")
  field(THVL, "3")
  field(THST, "Array Interpolate")
  field(FLNK, "$(P)interp$(Q=)_enableOut")
}

record(ao, "$(P)interp$(Q=)_x") {
  field(DTYP, "Soft Channel")
  field(PREC, "5")
  field(OUT, "$(P)interp$(Q=).A PP")
}

record(ao, "$(P)interp$(Q=)_y1_in") {
  field(DTYP, "Soft Channel")
  field(PREC, "5")
}

record(ao, "$(P)interp$(Q=)_y2_in") {
  field(DTYP, "Soft Channel")
  field(PREC, "5")
}

# A: x new value, for interp or adding to VALA[]
# B: y1(x) new value for adding to VALB[]
# C: y2(x) new value for adding to VALC[]
# VALN: num values
# F: polynomial order
# G: mode (0: interpolate; 1: add point to tables; 2: clear tables; 3: interpolate array
# VALA[]: independent variable
# VALB[]: y1(VALA)
# VALC[]: y2(VALA)
# VALE: status: 0==successful interpolation
# VALF: y1(A)
# VALG: y2(A)
# H: x[]
# VALH[]: y1(H[])
# VALI[]: y2(H[])
record(aSub, "$(P)interp$(Q=)") {
  field(INAM, "interp_init")
  field(SNAM, "interp_do")
  field(PREC, "5")
  field(FTF, "LONG")
  field(INPG, "$(P)interp$(Q=)_mode.RVAL")
  field(FTG, "LONG")
  field(FTVE, "LONG")
  field(OUTF, "$(P)interp$(Q=)_y1.VAL PP")
  field(OUTG, "$(P)interp$(Q=)_y2.VAL PP")
  field(EFLG, "ON CHANGE")
  field(INPB, "$(P)interp$(Q=)_y1_in.VAL")
  field(INPC, "$(P)interp$(Q=)_y2_in.VAL")
  field(OUTN, "$(P)interp$(Q=)_n.VAL PP")
  field(FTVN, "LONG")
  field(NOVA, "$(N)")
  field(NOVB, "$(N)")
  field(NOVC, "$(N)")
  field(OUTE, "$(P)interp$(Q=)_ok.VAL PP")
  field(NOH, "$(N)")
  field(NOVH, "$(N)")
  field(NOVI, "$(N)")
}

# If user writes number of elements to $(P)interp$(Q=).VALN, copy to 
# $(P)interp$(Q=)_n.  The aSub record will do this anyway, but not until
# it gets processed.
record(longout, "$(P)interp$(Q=)_copyN") {
	field(DOL, "$(P)interp$(Q=).VALN CP")
	field(OMSL, "closed_loop")
	field(OUT, "$(P)interp$(Q=)_n PP")
}

record(longout, "$(P)interp$(Q=)_n") {
}

record(longout, "$(P)interp$(Q=)_ok") {
  field(MDEL, "-1")
  field(SDIS, "$(P)interp$(Q=)_enableOut.VAL")
}

record(ao, "$(P)interp$(Q=)_y1") {
  field(DTYP, "Soft Channel")
  field(SDIS, "$(P)interp$(Q=)_enableOut")
  field(PREC, "5")
}

record(ao, "$(P)interp$(Q=)_y2") {
  field(DTYP, "Soft Channel")
  field(SDIS, "$(P)interp$(Q=)_enableOut.VAL")
  field(PREC, "5")
}

record(calcout, "$(P)interp$(Q=)_enableOut") {
  field(CALC, "a")
  field(INPA, "$(P)interp$(Q=)_mode.RVAL")
}

record(sseq, "$(P)interp$(Q=)_DeleteAll") {
  field(UDF, "0")
  field(LNK1, "$(P)interp$(Q=)_mode PP")
  field(STR1, "Clear All")
  field(LNK3, "$(P)interp$(Q=)_mode PP")
  field(LNK2, "$(P)interp$(Q=)_x PP")
  field(STR3, "Interpolate")
}

record(sseq, "$(P)interp$(Q=)_AddPoint") {
  field(UDF, "0")
  field(PREC, "5")
  field(LNK1, "$(P)interp$(Q=)_mode PP")
  field(STR1, "Add Entry")
  field(LNK2, "$(P)interp$(Q=)_y1_in PP")
  field(LNK3, "$(P)interp$(Q=)_y2_in PP")
  field(LNK4, "$(P)interp$(Q=)_x PP")
  field(LNK5, "$(P)interp$(Q=)_mode PP")
  field(STR5, "Interpolate")
}

#! Further lines contain data used by VisualDCT
#! View(4,-118,0.9)
#! Record("$(P)interp$(Q=)_mode",380,-70,0,1,"$(P)interp$(Q=)_mode")
#! Field("$(P)interp$(Q=)_mode.FLNK",16777215,1,"$(P)interp$(Q=)_mode.FLNK")
#! Link("$(P)interp$(Q=)_mode.FLNK","$(P)interp$(Q=)_enableOut")
#! Field("$(P)interp$(Q=)_mode.RVAL",16777215,1,"$(P)interp$(Q=)_mode.RVAL")
#! Field("$(P)interp$(Q=)_mode.VAL",16777215,0,"$(P)interp$(Q=)_mode.VAL")
#! Visibility("$(P)interp$(Q=)_mode.ZRST",1)
#! Visibility("$(P)interp$(Q=)_mode.ONST",1)
#! Visibility("$(P)interp$(Q=)_mode.TWST",1)
#! Record("$(P)interp$(Q=)_x",540,230,0,0,"$(P)interp$(Q=)_x")
#! Field("$(P)interp$(Q=)_x.VAL",16777215,0,"$(P)interp$(Q=)_x.VAL")
#! Field("$(P)interp$(Q=)_x.OUT",16777215,1,"$(P)interp$(Q=)_x.OUT")
#! Link("$(P)interp$(Q=)_x.OUT","$(P)interp$(Q=).A")
#! Visibility("$(P)interp$(Q=)_x.DTYP",2)
#! Visibility("$(P)interp$(Q=)_x.PREC",2)
#! Visibility("$(P)interp$(Q=)_x.FLNK",2)
#! Record("$(P)interp$(Q=)_y1_in",540,370,0,0,"$(P)interp$(Q=)_y1_in")
#! Field("$(P)interp$(Q=)_y1_in.VAL",16777215,1,"$(P)interp$(Q=)_y1_in.VAL")
#! Visibility("$(P)interp$(Q=)_y1_in.DTYP",2)
#! Record("$(P)interp$(Q=)_y2_in",540,484,0,0,"$(P)interp$(Q=)_y2_in")
#! Field("$(P)interp$(Q=)_y2_in.VAL",16777215,1,"$(P)interp$(Q=)_y2_in.VAL")
#! Visibility("$(P)interp$(Q=)_y2_in.DTYP",2)
#! Visibility("$(P)interp$(Q=)_y2_in.PREC",2)
#! Visibility("$(P)interp$(Q=)_y2_in.SDIS",2)
#! Record("$(P)interp$(Q=)",1040,12,0,0,"$(P)interp$(Q=)")
#! Field("$(P)interp$(Q=).INPG",16777215,0,"$(P)interp$(Q=).INPG")
#! Link("$(P)interp$(Q=).INPG","$(P)interp$(Q=)/INPG")
#! Field("$(P)interp$(Q=).OUTN",16777215,1,"$(P)interp$(Q=).OUTN")
#! Link("$(P)interp$(Q=).OUTN","$(P)interp$(Q=)/OUTN")
#! Field("$(P)interp$(Q=).A",16777215,0,"$(P)interp$(Q=).A")
#! Field("$(P)interp$(Q=).INPB",16777215,0,"$(P)interp$(Q=).INPB")
#! Link("$(P)interp$(Q=).INPB","$(P)interp/INPB")
#! Field("$(P)interp$(Q=).INPC",16777215,0,"$(P)interp$(Q=).INPC")
#! Link("$(P)interp$(Q=).INPC","$(P)interp/INPC")
#! Field("$(P)interp$(Q=).OUTE",16777215,1,"$(P)interp$(Q=).OUTE")
#! Link("$(P)interp$(Q=).OUTE","$(P)interp$(Q=)_ok.VAL")
#! Field("$(P)interp$(Q=).OUTF",16777215,1,"$(P)interp$(Q=).OUTF")
#! Link("$(P)interp$(Q=).OUTF","$(P)interp$(Q=)/OUTF")
#! Field("$(P)interp$(Q=).OUTG",16777215,1,"$(P)interp$(Q=).OUTG")
#! Link("$(P)interp$(Q=).OUTG","$(P)interp$(Q=)/OUTG")
#! Connector("$(P)interp/INPC","$(P)interp$(Q=)_y2_in.VAL",980,460,16777215,"",0)
#! Connector("$(P)interp/INPB","$(P)interp$(Q=)_y1_in.VAL",940,400,16777215,"",0)
#! Connector("$(P)interp$(Q=)/OUTG","$(P)interp$(Q=)_y2.VAL",1260,530,16777215,"",0)
#! Connector("$(P)interp$(Q=)/OUTF","$(P)interp$(Q=)_y1.VAL",1280,460,16777215,"",0)
#! Connector("$(P)interp$(Q=)/INPG","$(P)interp$(Q=)_mode.RVAL",960,210,16777215,"",0)
#! Connector("$(P)interp$(Q=)/OUTN","$(P)interp$(Q=)_n.VAL",1280,290,16777215,"",0)
#! Visibility("$(P)interp$(Q=).PREC",2)
#! Visibility("$(P)interp$(Q=).OUTF",2)
#! Visibility("$(P)interp$(Q=).OUTG",2)
#! Visibility("$(P)interp$(Q=).INPD",2)
#! Visibility("$(P)interp$(Q=).OUTB",2)
#! Visibility("$(P)interp$(Q=).OUTC",2)
#! Record("$(P)interp$(Q=)_n",1360,204,0,1,"$(P)interp$(Q=)_n")
#! Field("$(P)interp$(Q=)_n.VAL",16777215,0,"$(P)interp$(Q=)_n.VAL")
#! Record("$(P)interp$(Q=)_ok",1360,276,0,1,"$(P)interp$(Q=)_ok")
#! Field("$(P)interp$(Q=)_ok.SDIS",16777215,0,"$(P)interp$(Q=)_ok.SDIS")
#! Link("$(P)interp$(Q=)_ok.SDIS","$(P)interp$(Q=)_ok/SDIS")
#! Field("$(P)interp$(Q=)_ok.VAL",16777215,0,"$(P)interp$(Q=)_ok.VAL")
#! Connector("$(P)interp$(Q=)_ok/SDIS","$(P)interp$(Q=)_enableOut.VAL",1300,260,16777215,"",0)
#! Record("$(P)interp$(Q=)_y1",1360,424,0,1,"$(P)interp$(Q=)_y1")
#! Field("$(P)interp$(Q=)_y1.SDIS",16777215,0,"$(P)interp$(Q=)_y1.SDIS")
#! Link("$(P)interp$(Q=)_y1.SDIS","$(P)interp$(Q=)_y1/SDIS")
#! Field("$(P)interp$(Q=)_y1.VAL",16777215,0,"$(P)interp$(Q=)_y1.VAL")
#! Connector("$(P)interp$(Q=)_y1/SDIS","$(P)interp$(Q=)_enableOut.VAL",1300,320,16777215,"",0)
#! Visibility("$(P)interp$(Q=)_y1.DTYP",2)
#! Visibility("$(P)interp$(Q=)_y1.SDIS",2)
#! Visibility("$(P)interp$(Q=)_y1.PREC",2)
#! Record("$(P)interp$(Q=)_y2",1360,544,0,1,"$(P)interp$(Q=)_y2")
#! Field("$(P)interp$(Q=)_y2.SDIS",16777215,0,"$(P)interp$(Q=)_y2.SDIS")
#! Link("$(P)interp$(Q=)_y2.SDIS","$(P)interp$(Q=)_y2/SDIS")
#! Field("$(P)interp$(Q=)_y2.VAL",16777215,0,"$(P)interp$(Q=)_y2.VAL")
#! Connector("$(P)interp$(Q=)_y2/SDIS","$(P)interp$(Q=)_enableOut.VAL",1300,380,16777215,"",0)
#! Visibility("$(P)interp$(Q=)_y2.DTYP",2)
#! Visibility("$(P)interp$(Q=)_y2.SDIS",2)
#! Visibility("$(P)interp$(Q=)_y2.PREC",2)
#! Record("$(P)interp$(Q=)_enableOut",1040,56,0,0,"$(P)interp$(Q=)_enableOut")
#! Field("$(P)interp$(Q=)_enableOut.VAL",16777215,1,"$(P)interp$(Q=)_enableOut.VAL")
#! Field("$(P)interp$(Q=)_enableOut.INPA",16777215,0,"$(P)interp$(Q=)_enableOut.INPA")
#! Link("$(P)interp$(Q=)_enableOut.INPA","$(P)interp$(Q=)_enableOut/INPA")
#! Connector("$(P)interp$(Q=)_enableOut/INPA","$(P)interp$(Q=)_mode.RVAL",960,150,16777215,"",0)
#! Record("$(P)interp$(Q=)_DeleteAll",40,-61,0,1,"$(P)interp$(Q=)_DeleteAll")
#! Field("$(P)interp$(Q=)_DeleteAll.LNK1",16777215,1,"$(P)interp$(Q=)_DeleteAll.LNK1")
#! Link("$(P)interp$(Q=)_DeleteAll.LNK1","$(P)interp$(Q=)_DeleteAll/LNK1")
#! Field("$(P)interp$(Q=)_DeleteAll.LNK2",16777215,1,"$(P)interp$(Q=)_DeleteAll.LNK2")
#! Link("$(P)interp$(Q=)_DeleteAll.LNK2","$(P)interp$(Q=)_DeleteAll/LNK2")
#! Field("$(P)interp$(Q=)_DeleteAll.LNK3",16777215,1,"$(P)interp$(Q=)_DeleteAll.LNK3")
#! Link("$(P)interp$(Q=)_DeleteAll.LNK3","$(P)interp$(Q=)_DeleteAll/LNK3")
#! Connector("$(P)interp$(Q=)_DeleteAll/LNK1","$(P)interp$(Q=)_mode.VAL",320,120,16777215,"",0)
#! Connector("$(P)interp$(Q=)_DeleteAll/LNK3","$(P)interp$(Q=)_mode.VAL",320,140,16777215,"",0)
#! Connector("$(P)interp$(Q=)_DeleteAll/LNK2","$(P)interp$(Q=)_x.VAL",260,210,16777215,"",0)
#! Record("$(P)interp$(Q=)_AddPoint",20,497,0,1,"$(P)interp$(Q=)_AddPoint")
#! Field("$(P)interp$(Q=)_AddPoint.LNK1",16777215,1,"$(P)interp$(Q=)_AddPoint.LNK1")
#! Link("$(P)interp$(Q=)_AddPoint.LNK1","$(P)interp$(Q=)_AddPoint/LNK11")
#! Field("$(P)interp$(Q=)_AddPoint.LNK2",16777215,1,"$(P)interp$(Q=)_AddPoint.LNK2")
#! Link("$(P)interp$(Q=)_AddPoint.LNK2","$(P)interp$(Q=)_AddPoint/LNK2")
#! Field("$(P)interp$(Q=)_AddPoint.LNK3",16777215,1,"$(P)interp$(Q=)_AddPoint.LNK3")
#! Link("$(P)interp$(Q=)_AddPoint.LNK3","$(P)interp$(Q=)_AddPoint/LNK3")
#! Field("$(P)interp$(Q=)_AddPoint.LNK4",16777215,1,"$(P)interp$(Q=)_AddPoint.LNK4")
#! Link("$(P)interp$(Q=)_AddPoint.LNK4","$(P)interp$(Q=)_AddPoint/LNK4")
#! Field("$(P)interp$(Q=)_AddPoint.LNK5",16777215,1,"$(P)interp$(Q=)_AddPoint.LNK5")
#! Link("$(P)interp$(Q=)_AddPoint.LNK5","$(P)interp$(Q=)_AddPoint/LNK5")
#! Connector("$(P)interp$(Q=)_AddPoint/LNK5","$(P)interp$(Q=)_mode.VAL",320,460,16777215,"",0)
#! Connector("$(P)interp$(Q=)_AddPoint/LNK3","$(P)interp$(Q=)_y2_in.VAL",480,640,16777215,"",0)
#! Connector("$(P)interp$(Q=)_AddPoint/LNK11","$(P)interp$(Q=)_mode.VAL",320,420,16777215,"",0)
#! Connector("$(P)interp$(Q=)_AddPoint/LNK2","$(P)interp$(Q=)_y1_in.VAL",460,580,16777215,"",0)
#! Connector("$(P)interp$(Q=)_AddPoint/LNK4","$(P)interp$(Q=)_x.VAL",340,530,16777215,"",0)
#! TextBox(TB0,1040,40,1200,80,0,"Dialog",12,1,16777215,"Disable output unless mode==\"Interpolate\"",null)
