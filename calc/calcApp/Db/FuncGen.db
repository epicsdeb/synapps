#! Generated by VisualDCT v2.6
#! DBDSTART
#! DBD("/home/oxygen4/MOONEY/epics/synApps/support/xxx/dbd/iocxxxVX.dbd")
#! DBDEND


record(ao, "$(P)$(Q):Amplitude") {
  field(PREC, "3")
}

record(ao, "$(P)$(Q):Offset") {
  field(PINI, "NO")
  field(PREC, "3")
}

record(ao, "$(P)$(Q):Frequency") {
  field(OUT, "$(P)$(Q):FreqPeriod.A PP")
  field(HOPR, "10")
  field(LOPR, ".001")
  field(PINI, "YES")
  field(PREC, "3")
  field(EGU, "Hz")
}

record(transform, "$(P)$(Q):Tran") {
  field(CLCB, "(a>=(2*PI-c))?0:a+c")
  field(CLCC, "(2*PI)/(j/n)")
  field(CLCF, "(i/2)*(p==0?sin(b):p==2?d:e)+h")
  field(CLCL, "k==9?.1:k==8?.2:k==7?.5:k==6?1:0")
  field(CLCM, "k==5?2:k==4?5:k==3?10:100")
  field(CLCN, "k>5?l:m")
  field(INPA, "$(P)$(Q):Tran.B NPP NMS")
  field(INPH, "$(P)$(Q):Offset.VAL")
  field(INPI, "$(P)$(Q):Amplitude.VAL")
  field(INPJ, "$(P)$(Q):FreqPeriod.D")
  field(INPK, "$(P)$(Q):Tran.SCAN NPP ")
  field(OUTF, "$(P)$(Q):Output PP")
  field(CMTA, "prev arg")
  field(CMTB, "arg")
  field(CMTC, "arg incr")
  field(CMTF, "position")
  field(CMTH, "offset")
  field(CMTI, "amplitude")
  field(CMTJ, "period")
  field(CMTK, "scan field")
  field(CMTN, "sample period (s)")
  field(CLCD, "(b<PI/2?b:b<3*PI/2?PI-b:b-2*PI)/(PI/2)")
  field(CLCE, "p==1?b<PI?1:-1:b/PI-1")
  field(CLCG, "f")
  field(INPP, "$(P)$(Q):Function.VAL")
  field(PREC, "3")
  field(CMTD, "triangle")
  field(CMTE, "square/ramp")
  field(CMTP, "function(sin,sq,tri,ramp)")
}

record(ao, "$(P)$(Q):Period") {
  field(OUT, "$(P)$(Q):FreqPeriod.B PP")
  field(HOPR, "1000")
  field(LOPR, ".1")
  field(PINI, "YES")
  field(PREC, "3")
  field(EGU, "s")
}

record(transform, "$(P)$(Q):FreqPeriod") {
  field(CLCA, "b>.001?1/b:1")
  field(CLCB, "a>.001?1/a:1")
  field(CLCC, "min(1000,max(.01,1/b))")
  field(OUTC, "$(P)$(Q):Frequency PP")
  field(CMTA, "Freq input")
  field(CMTB, "Period Input")
  field(CMTC, "Freq recalc")
  field(CLCD, "min(100,max(.001,1/a))")
  field(OUTD, "$(P)$(Q):Period PP")
  field(PREC, "3")
  field(CMTD, "Period recalc")
}

record(ao, "$(P)$(Q):OutDrive") {
  field(DISV, "0")
  field(SDIS, "$(P)$(Q):EnableOutput.VAL")
  field(OUT, "$(OUT) PP")
  field(PREC, "3")
}

record(bo, "$(P)$(Q):EnableOutput") {
  field(ZNAM, "Disable")
  field(ONAM, "Enable")
}

record(ao, "$(P)$(Q):Output") {
  field(OUT, "$(P)$(Q):OutDrive PP")
  field(PREC, "3")
  field(DRVH, "1")
  field(DRVL, "-1")
}

record(mbbo, "$(P)$(Q):Function") {
  field(ZRST, "Sine")
  field(ONST, "Square")
  field(TWST, "Triangle")
  field(THST, "Ramp")
}

record(mbbo, "$(P)$(Q):ChartPeriod") {
  field(ZRST, "10 seconds")
  field(ONST, "1 minute")
  field(TWST, "10 minute")
  field(THST, "1 hour")
}

record(ao, "$(P)$(Q):HLIM") {
  field(OUT, "$(P)$(Q):Output.HOPR")
  field(DOL, "$(P)$(Q):Output.DRVH CP")
  field(OMSL, "closed_loop")
}

record(ao, "$(P)$(Q):LLIM") {
  field(OUT, "$(P)$(Q):Output.LOPR")
  field(DOL, "$(P)$(Q):Output.DRVL CP")
  field(OMSL, "closed_loop")
}

record(calcout, "$(P)$(Q):Readback") {
  field(CALC, "a")
}

record(ao, "$(P)$(Q):HLIM2") {
  field(OUT, "$(P)$(Q):Readback.HOPR PP")
  field(DOL, "$(P)$(Q):Output.DRVH CP")
  field(OMSL, "closed_loop")
}

record(ao, "$(P)$(Q):LLIM2") {
  field(OUT, "$(P)$(Q):Readback.LOPR PP")
  field(DOL, "$(P)$(Q):Output.DRVL CP")
  field(OMSL, "closed_loop")
}

#! Further lines contain data used by VisualDCT
#! View(2300,1615,1.0)
#! Record("$(P)$(Q):Amplitude",1660,1850,0,1,"$(P)$(Q):Amplitude")
#! Field("$(P)$(Q):Amplitude.VAL",16777215,1,"$(P)$(Q):Amplitude.VAL")
#! Record("$(P)$(Q):Offset",1660,1736,0,1,"$(P)$(Q):Offset")
#! Field("$(P)$(Q):Offset.VAL",16777215,1,"$(P)$(Q):Offset.VAL")
#! Record("$(P)$(Q):Frequency",1640,1920,0,1,"$(P)$(Q):Frequency")
#! Field("$(P)$(Q):Frequency.OUT",16777215,1,"$(P)$(Q):Frequency.OUT")
#! Link("$(P)$(Q):Frequency.OUT","$(P)$(Q):FreqPeriod.A")
#! Field("$(P)$(Q):Frequency.VAL",16777215,0,"$(P)$(Q):Frequency.VAL")
#! Record("$(P)$(Q):Tran",2240,1281,0,1,"$(P)$(Q):Tran")
#! Field("$(P)$(Q):Tran.B",16777215,0,"$(P)$(Q):Tran.B")
#! Field("$(P)$(Q):Tran.INPA",16777215,0,"$(P)$(Q):Tran.INPA")
#! Link("$(P)$(Q):Tran.INPA","$(P)$(Q):Tran.B")
#! Field("$(P)$(Q):Tran.SCAN",16777215,0,"$(P)$(Q):Tran.SCAN")
#! Field("$(P)$(Q):Tran.INPK",16777215,0,"$(P)$(Q):Tran.INPK")
#! Link("$(P)$(Q):Tran.INPK","$(P)$(Q):Tran.SCAN")
#! Field("$(P)$(Q):Tran.OUTF",16777215,1,"$(P)$(Q):Tran.OUTF")
#! Link("$(P)$(Q):Tran.OUTF","$(P)$(Q):Output.VAL")
#! Field("$(P)$(Q):Tran.INPH",16777215,0,"$(P)$(Q):Tran.INPH")
#! Link("$(P)$(Q):Tran.INPH","$(P)$(Q):Offset.VAL")
#! Field("$(P)$(Q):Tran.INPJ",16777215,0,"$(P)$(Q):Tran.INPJ")
#! Link("$(P)$(Q):Tran.INPJ","$(P)$(Q):FreqPeriod.D")
#! Field("$(P)$(Q):Tran.INPI",16777215,0,"$(P)$(Q):Tran.INPI")
#! Link("$(P)$(Q):Tran.INPI","$(P)$(Q):Amplitude.VAL")
#! Field("$(P)$(Q):Tran.INPP",16777215,1,"$(P)$(Q):Tran.INPP")
#! Link("$(P)$(Q):Tran.INPP","$(P)$(Q):Function.VAL")
#! Record("$(P)$(Q):Period",1640,2040,0,1,"$(P)$(Q):Period")
#! Field("$(P)$(Q):Period.OUT",16777215,1,"$(P)$(Q):Period.OUT")
#! Link("$(P)$(Q):Period.OUT","$(P)$(Q):FreqPeriod.B")
#! Field("$(P)$(Q):Period.VAL",16777215,1,"$(P)$(Q):Period.VAL")
#! Record("$(P)$(Q):FreqPeriod",1920,1851,0,1,"$(P)$(Q):FreqPeriod")
#! Field("$(P)$(Q):FreqPeriod.A",16777215,0,"$(P)$(Q):FreqPeriod.A")
#! Field("$(P)$(Q):FreqPeriod.B",16777215,0,"$(P)$(Q):FreqPeriod.B")
#! Field("$(P)$(Q):FreqPeriod.D",16777215,1,"$(P)$(Q):FreqPeriod.D")
#! Field("$(P)$(Q):FreqPeriod.OUTC",16777215,1,"$(P)$(Q):FreqPeriod.OUTC")
#! Link("$(P)$(Q):FreqPeriod.OUTC","$(P)$(Q):FreqPeriod/OUTC2")
#! Field("$(P)$(Q):FreqPeriod.OUTD",16777215,1,"$(P)$(Q):FreqPeriod.OUTD")
#! Link("$(P)$(Q):FreqPeriod.OUTD","$(P)$(Q):FreqPeriod/OUTD")
#! Connector("$(P)$(Q):FreqPeriod/OUTD","$(P)$(Q):Period.VAL",2140,2180,16777215,"",0)
#! Connector("$(P)$(Q):FreqPeriod/OUTC2","$(P)$(Q):FreqPeriod/OUTC1",2140,2055,16777215,"",0)
#! Connector("$(P)$(Q):FreqPeriod/OUTC1","$(P)$(Q):FreqPeriod/OUTC",1860,1980,16777215,"",0)
#! Connector("$(P)$(Q):FreqPeriod/OUTC","$(P)$(Q):Frequency.VAL",1580,2035,16777215,"",0)
#! Record("$(P)$(Q):OutDrive",2780,1628,0,1,"$(P)$(Q):OutDrive")
#! Field("$(P)$(Q):OutDrive.SDIS",16777215,0,"$(P)$(Q):OutDrive.SDIS")
#! Link("$(P)$(Q):OutDrive.SDIS","$(P)$(Q):EnableOutput.VAL")
#! Field("$(P)$(Q):OutDrive.OUT",16777215,1,"$(P)$(Q):OutDrive.OUT")
#! Link("$(P)$(Q):OutDrive.OUT","$(P)$(Q):OutDrive/OUT")
#! Field("$(P)$(Q):OutDrive.VAL",16777215,0,"$(P)$(Q):OutDrive.VAL")
#! Connector("$(P)$(Q):OutDrive/OUT",null,3000,1760,16777215,"",2)
#! Record("$(P)$(Q):EnableOutput",2500,1616,0,1,"$(P)$(Q):EnableOutput")
#! Field("$(P)$(Q):EnableOutput.VAL",16777215,1,"$(P)$(Q):EnableOutput.VAL")
#! Record("$(P)$(Q):Output",2500,1728,0,1,"$(P)$(Q):Output")
#! Field("$(P)$(Q):Output.OUT",16777215,1,"$(P)$(Q):Output.OUT")
#! Link("$(P)$(Q):Output.OUT","$(P)$(Q):OutDrive.VAL")
#! Field("$(P)$(Q):Output.VAL",16777215,0,"$(P)$(Q):Output.VAL")
#! Field("$(P)$(Q):Output.DRVH",16777215,1,"$(P)$(Q):Output.DRVH")
#! Field("$(P)$(Q):Output.DRVL",16777215,1,"$(P)$(Q):Output.DRVL")
#! Field("$(P)$(Q):Output.HOPR",16777215,1,"$(P)$(Q):Output.HOPR")
#! Field("$(P)$(Q):Output.LOPR",16777215,1,"$(P)$(Q):Output.LOPR")
#! Record("$(P)$(Q):Function",2280,2048,0,1,"$(P)$(Q):Function")
#! Field("$(P)$(Q):Function.VAL",16777215,1,"$(P)$(Q):Function.VAL")
#! Record("$(P)$(Q):ChartPeriod",2520,2028,0,1,"$(P)$(Q):ChartPeriod")
#! Record("$(P)$(Q):HLIM",2820,1962,0,1,"$(P)$(Q):HLIM")
#! Field("$(P)$(Q):HLIM.DOL",16777215,0,"$(P)$(Q):HLIM.DOL")
#! Link("$(P)$(Q):HLIM.DOL","$(P)$(Q):HLIM/DOL")
#! Field("$(P)$(Q):HLIM.OUT",16777215,0,"$(P)$(Q):HLIM.OUT")
#! Link("$(P)$(Q):HLIM.OUT","$(P)$(Q):HLIM/OUT")
#! Connector("$(P)$(Q):HLIM/OUT","$(P)$(Q):Output.HOPR",2740,2010,16777215,"",0)
#! Connector("$(P)$(Q):HLIM/DOL","$(P)$(Q):Output.DRVH",2760,1980,16777215,"",0)
#! Record("$(P)$(Q):LLIM",2780,2142,0,1,"$(P)$(Q):LLIM")
#! Field("$(P)$(Q):LLIM.DOL",16777215,0,"$(P)$(Q):LLIM.DOL")
#! Link("$(P)$(Q):LLIM.DOL","$(P)$(Q):LLIM/DOL")
#! Field("$(P)$(Q):LLIM.OUT",16777215,0,"$(P)$(Q):LLIM.OUT")
#! Link("$(P)$(Q):LLIM.OUT","$(P)$(Q):Output.LOPR")
#! Connector("$(P)$(Q):LLIM/DOL","$(P)$(Q):Output.DRVL",2720,2080,16777215,"",0)
#! Record("$(P)$(Q):Readback",3340,1810,0,1,"$(P)$(Q):Readback")
#! Field("$(P)$(Q):Readback.HOPR",16777215,0,"$(P)$(Q):Readback.HOPR")
#! Field("$(P)$(Q):Readback.LOPR",16777215,0,"$(P)$(Q):Readback.LOPR")
#! Record("$(P)$(Q):HLIM2",3060,1762,0,1,"$(P)$(Q):HLIM2")
#! Field("$(P)$(Q):HLIM2.OUT",16777215,1,"$(P)$(Q):HLIM2.OUT")
#! Link("$(P)$(Q):HLIM2.OUT","$(P)$(Q):Readback.HOPR")
#! Field("$(P)$(Q):HLIM2.DOL",16777215,0,"$(P)$(Q):HLIM2.DOL")
#! Link("$(P)$(Q):HLIM2.DOL","$(P)$(Q):Output.DRVH")
#! Record("$(P)$(Q):LLIM2",3060,1902,0,1,"$(P)$(Q):LLIM2")
#! Field("$(P)$(Q):LLIM2.OUT",16777215,1,"$(P)$(Q):LLIM2.OUT")
#! Link("$(P)$(Q):LLIM2.OUT","$(P)$(Q):Readback.LOPR")
#! Field("$(P)$(Q):LLIM2.DOL",16777215,0,"$(P)$(Q):LLIM2.DOL")
#! Link("$(P)$(Q):LLIM2.DOL","$(P)$(Q):LLIM2/DOL")
#! Connector("$(P)$(Q):LLIM2/DOL","$(P)$(Q):Output.DRVL",3000,1970,16777215,"",0)
