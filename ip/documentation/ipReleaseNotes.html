<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Microsoft FrontPage 5.0">
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">

<center>
<h1>
ip Release Notes<br>
&nbsp;</h1></center>

<h2>Release 2-13 Nov 14, 2011</h2>
<ul>
<li>devXxStrParm.c fixed for stringin records when device response is longer
than 40 characters; previously was not null terminating.
<li>Added jenaNV40 and NCD_R2X databases and MEDM-display files.
</ul>

<h2>Release 2-12 Oct 25, 2011</h2>
<ul>
<li>Added support for  National Control Devices R2X series of RS-232 single/dual relay controllers.
<li>Added support for Piezo Systems Jena NV40/1 CLE piezo controller
</ul>

<h2>Release 2-11 Aug. 25, 2011</h2>
<ul>
<li>Added support for LakeShore 336 TC
<li>Added support for Alcatel 2000 vacuum controller
<li>Added .opi display files for CSS-BOY
<li>Added support for US Digital Inclinometer
<li>Moved LoveController.adl to the love module
<li>Modified RELEASE; deleted RELEASE.arch
<li>Fixed Keithley2kDMM for 64-bit arch.
</ul>

<h2>Release 2-10 Mar. 30, 2010</h2>
<ul>
<li>devAiMKS - Don't print error messages on SYNTAX! or NotCMD! responses, since these seem to
be due to a bug in the device (assuming we are really only sending good commands) and fill the log files.</li>
<li>Omega_DP41.txt - docs for Omega DP41 panel meter
<li>Lakeshore331 - new support for Lakeshore 331 temperature controller
<li>SR830 - Stanford Research Systems lockin amplifier
<li>SR810 - new support for Stanford Research Systems lockin amplifier
<li>Agilent_E3631A_settings.req - renamed to agree with database
<li>tyGSAsynInit.c - improved error reporting
</ul>

<h2>Release 2-9 Dec. 19, 2008</h2>
<ul>
<li>pico_small.adl - use asyn record instead of serial
<li>devMPC.c - increased timeout, and defend against timeout; fixed bug when reading volts and return string length < 4
</ul>

<h2>Release 2-8 Sept. 10, 2008</h2>
<ul>
<li>new device US Digital Serial Encoder
<li>new device Keithley 8517 Electrometer
<li>new device LakeShore 340 Temperature controller
<li>new device Omega DP41 Digital Panel Meter
<li>new device Pfeiffer TPG261 RS232 Vacuum Controller.
<li>new file ip/ipApp/Db/asynRecord_settings.req  (Ideally, this would be in the asyn
module, but settings files that correspond with database files is a synApps notion, and
asyn is not part of synApps.)
<li>ip/ipApp/Db/deviceCmdReply.req replaced by deviceCmdReply_settings.req,
and modified to correctly include asynRecord_settings.req
<li>Updated Eurotherm 2k support
<li>ip/ipApp/op/adl/deviceCmdReply_full.adl: asynRecord TMOT is in seconds, not ms.
</ul>

<h2>Release 2-7 Sept. 11, 2006</h2>
<ul>
<li>Added support for Newport LAE500 autocollimator
<li>Added support for additional thermocouple types for Keithley 2700 multimeter
<li>Databases using asyn serial support no longer set input/output terminator.
This must now be done in asyn-record configuration.
<li>HeidVRZ460_encoder.db converted to use asyn
<li>Keithley2kDMM_mf.db  -- Modified by Arun 08-Feb-2006 to include R-type thermocouple
<li>Keithley2kDMM_mf20_settings.req -- new file
<li>Keithley2kDMM_mf_channelN_settings.req now just includes calcout_settings.req
<li>pzt3.db, pzt_3id.db -- BitBus-based databases deleted.
<li>Keithley2kDMM.st -- Added support for additional thermocouple types for 2700
<li>devAiHeidND261.c -- converted to use asyn
<li>devXxEurotherm.c -- converted to use asyn
<li>deviceCmdReply.db -- Now is useable for binary data (i.e., strings that may
contain unprintable characters, including the null character), and for devices
that require CRC's or checksums that are implemented in the string-calc software
(in the calc module).  However, the string-length limitation is still 39 bytes.
<li>Added documentation for deviceCmdReply
</ul>

<h2>Release 2-6 Sept. 16, 2005</h2>
<p>Fixed bugs in devAiMKS.c.  Number of characters to send and receive was incorrect
since terminators no longer are counted.
<p>Fixed bugs in devMPC.c.  
<ul>
<li>The IOC was crashing if the MPC was not responding, i.e. powered off or disconnected.
It now handles write and read errors gracefully.
<li>The Lock and Start commands had bugs and were not working.  Thanks to Mohan Ramanthan for
fixing these
</ul>
<p>Added support for Pelco 6700 video switch.
<p>Added support for Stanford Research Systems SR630 thermocouple scanner
<p>Fixed support for Agilent E3631A

<h2>Release 2-5 March 29, 2005</h2>
<p>Fixed bugs in devXxStrParm.c that prevented it working with the asyn address != 0. 
This meant the previous version would not work with GPIB.  In previous versions the VME "signal"
parameter was used to indicate a buffer start address for I/O.  No existing databases seem to use
this feature, and it will no longer work, since the address field is needed for device addressing.</p>

<p>Minor change to appearance of Keithley2kDMM_mf.adl.</p>

<h2>Release 2-4 December 21, 2004</h2>
Tested against base 3.14.7; asyn 4.1+; ipac 2.8; seq 2.0.8
This version of ip will not work with ipac versions lower than 2.8, or asyn versions lower
than 4.0.

<P>Everything that used serial or GPIB records has been converted to use the
asyn record.  Everything that used MPF has been converted to use asyn. 
Some databases have been converted from gdct to VDCT.

<p>st.cmd requires changes.  In ipac 2.8, the argument list for
tyGSOctalDevCreate() changed.  tyGSAsynInit() is a wrapper around this and
related calls, and its arg list must also change.  Here's an example of
the correct syntax:

<pre>tyGSAsynInit("serial1",  "UART_0", 0, 9600,'N',2,8,'N',"")  /* SRS570 */
</pre>



<P>serial_OI_block and GPIB_OI_block have been replaced by deviceCmdReply.

Several devices previously supported in the std module have been moved here,
including Heidenhain VRZ460, Keithley 199 DMM, and the Queensgate Piezo
controller.

<P> <a href="cvsLog.txt">cvs log</a>

<h2>Release 2-3, March 3, 2004</h2>
Tested against base 3.14.5; mpf 2.4.2; ipac 2.7a; seq 2.0.8
<p>New support:
<ul>
<li>Agilent_E3631A power supply
<li>Federal digital encoder
<li>picoMotor piezo-driven screw
</ul>

<p>New display files:
<ul>
<li>MPC_TSP.adl, MPC.adl
<li>Federal*.adl
<li>picoMotor*.adl
<li>Agilent*.adl
</ul>

<p>Generic serial database no longer sets serial port parameters.

<p>New documentation:
<ul>
<li>Agilent_E3631A.txt
<li>Federal.txt
<li>devXxStrParm.README
<li>picoMotor.txt
</ul>

<h2>
Release 1-2, March 6, 2002</h2>
Additions to ipApp/Db:
<ul>
<li>
DAC.db</li>

<li>
Eurotherm.db, Eurotherm</li>

<li>
MKS_single.db</li>

<li>
Updated PI500.db</li>
</ul>
Additions to ipApp/src:
<ul>
<li>
devAoEurotherm.cc</li>

<li>
devSoEurotherm.cc</li>
</ul>
Modifications in ipApp/src:
<ul>
<li>
Added Eurotherm to ipLIBOBJS and ipShare.dbd.</li>

<li>
Makefile.Vx <i>depends </i>fix for *.cc source code.</li>
</ul>
Modification in ipApp/op/adl:
<ul>
<li>
Updated PI500.adl</li>
</ul>

<p>&nbsp;</p>

<h2 align="left">December 4, 1999</h2>

<p align="left">Changes made to ipApp
since synApps_R3.13.1.1. The most important change is the
addition of support for the Message Passing Facility, MPF.</p>

<ul>
    <li><p align="left">Renamed Makefile.Vx.do_build to
        Makefile.Vx.buildHideos</p>
    </li>
    <li><p align="left">Added Makefile.Vx.buildMPF</p>
    </li>
    <li><p align="left">Makefile.Vx should be a soft link to one
        of the above two files. When building MPF this points to
        Makefile.Vx.buildMPF</p>
    </li>
    <li><p align="left">Minor modifications to Makefile.Host.</p>
        <ul>
            <li><p align="left">Removed drvMM400 stuff, since
                this is now either in stdApp or wherever the
                motor stuff is ultimately put.</p>
            </li>
        </ul>
    </li>
    <li><p align="left">Added ipLIBOBJS, so when building the MPF
        version of ipApp it now works like stdApp and mcaApp,
        i.e. it copies all of the files in ipLIBOBJS to SHARE_BIN
        and it makes ipLib.</p>
    </li>
    <li><p align="left">Added mpfServerLIBOBJS. This creates a
        library called mpfServLib which contains all of the MPF
        server code which need to be loaded onto an MPF server.
        The only exception is mpfLib, which must be loaded
        separately before mpfServLib.</p>
    </li>
    <li><p align="left">Renamed ipShare.dbd to be
        ipShare.dbd.Hideos. (Actually I seem to have deleted this
        file, but it is just the version from synAppsR3.13.1.1)</p>
    </li>
    <li><p align="left">Created ipShare.dbd.MPF</p>
    </li>
    <li><p align="left">Created softlink ipShare.dbd which should
        be a soft link to one of the above two files. These files
        should ultimately be identical, but MPF device support is
        not yet available for all devices. When building MPF this
        points to ipShare.dbd.MPF</p>
    </li>
    <li>Added following device support to ipShare.dbd.MPF<ul>
            <li>MKS vacuum gauge controller</li>
            <li>Greenspring IP-Unidig digital I/O modules from
                MPF</li>
            <li>EPID record fast feedback from MPF</li>
        </ul>
    </li>
</ul>

<ul>
    <li>Created following MPF device support files:<ul>
            <li>devAiHeidND261MPF.cc - Heidenhein encoder</li>
            <li>devAiMKSMPF.cc - HPS/MKS vacuum gauge controller
                (<em>new</em>)</li>
            <li>devAiStrParmMPF.cc - analog input string parm</li>
            <li>devAoStrParmMPF.cc - analog output string parm</li>
            <li>devBiStrParmMPF.cc - binary input string parm</li>
            <li>devLiStrParmMPF.cc - longin string parm</li>
            <li>devLoStrParmMPF.cc - longout string parm</li>
            <li>devSerialMPF.cc - generic serial record device
                support</li>
            <li>devSiStrParmMPF.cc - string in string parm</li>
            <li>devSoStrParmMPF.cc - string out string parm</li>
        </ul>
    </li>
</ul>

<blockquote>
    <p>Most of these are simple conversions of the corresponding
    Hideos device support. The only exception is devAiMKSMPF.cc
    which is new device support for the HPS MKS vacuum gauge
    controller.</p>
    <p>Note that the DTYP string defined for the MPF device
    support is the same as the old Hideos DTYPE, for example <font
    face="Times New Roman"><tt>&quot;Hideos lo stringParm&quot;</tt></font>
    or <font face="Times New Roman"><tt>&quot;Hideos ai
    HeidND261&quot;</tt></font>. This was done to allow
    conversion to MPF without having to modify the databases at
    all. At some point it would be good to modify ipShare.dbd to
    give the DTYPs names which reflect the fact that they are for
    <em>both</em> MPF and Hideos, not just Hideos. This will
    require changing all of the databases as well.</p>
</blockquote>

<ul>
    <li>The device support which I have <em>not</em> converted to
        MPF includes:<ul>
            <li>Love controller (but Mohan has converted this)</li>
            <li>Elcomat autocollimator</li>
            <li>Huber DMC 9200</li>
            <li>Eurotherm temperature controller</li>
            <li>GE Fanuc PLC</li>
        </ul>
    </li>
</ul>

<ul>
    <li>Added multifunction device support for Keithley 2000
        multimeter, Keithley2kDMM.st. This SNL program and the
        database ipApp/Db/Keithley2kDMM_mf.db can be used instead
        of the ipApp/Db/Keithley2kDMM.db. It provides the
        capability to have each of the scanner card inputs use a
        different function (DCV, ACV, Ohms, etc.).</li>
</ul>

<ul>
    <li>Added serialIOMPF.cc. This is the MPF version of the
        Hideos file serialIO.cc. serialIO is a simple serial
        communication package. It is used, for example, by the
        MM4000 motor controller driver.</li>
</ul>

<ul>
    <li>Added the following databases to ipApp/Db<ul>
            <li>MKS.db - Support for HPS/MKS vacuum gauge
                controller. Device support is in ipApp/src.</li>
            <li>Digitel.db - Support for PE Digitel 500/1500 ion
                pump controller. This does not have specific
                device support, but uses the generic serial
                record.</li>
            <li>Keithley2kDMM_mf.db - Support for the
                &quot;multifunction&quot; Keithley 2000 support.
                This uses the SNL program ipApp/src/
                Keithley2kDMM.st.</li>
            <li>IpUnidigLi.db - longin record support for the
                Greenspring IP-Unidig family of digital I/O
                modules. Device support is in mpf/ipUnidigApp.</li>
            <li>IpUnidigBi.db - binary input record support for
                the Greenspring IP-Unidig family of digital I/O
                modules. Device support is in mpf/ipUnidigApp.</li>
            <li>IpUnidigBo.db - binary output record support for
                the Greenspring IP-Unidig family of digital I/O
                modules. Device support is in mpf/ipUnidigApp.</li>
            <li>ip330Scan.db - support for the Acromag IP-330 ADC
                as a scanning A/D converter. Device support is in
                mpf/ip330App.</li>
            <li>fast_pid_control.db - support for fast feedback
                using the EPID record (in stdApp). Device support
                is in mpf/ip330App.</li>
        </ul>
    </li>
</ul>

<ul>
    <li>Modified the following databases in ipApp/Db<ul>
            <li>generic_serial.db. Added PRTY, BAUD, DBIT and
                SBIT parameters so that the record can be
                configured from st.cmd to communicate correctly.</li>
        </ul>
    </li>
</ul>

<ul>
    <li>Added the following MEDM .adl files ipApp/op/adl<ul>
            <li>IpUnidig.adl - graphical screen with 24 binary
                inputs and outputs for the Greenspring IP-Unidig
                family of digital I/O modules.</li>
            <li>Ip330Scan.adl - screen for 16 A/D inputs for the
                Acromag IP330 ADC using the Ip330Scan device
                support.</li>
            <li>Keithley2kDMM_mf.adl and
                Keithley2kDMM_full_mf.adl - screens for the
                Keithley 2000 multifunction support.</li>
        </ul>
    </li>
</ul>

</body>
</html>
