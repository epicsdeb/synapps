<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>pilatusROIReleaseNotes.html</title>
</head>
<body>
  <h1 style="text-align: center">
    pilatusROI Release Notes</h1>
  <h2 style="text-align: center">
    Release 1-6 (3-Feb-2009)</h2>
  <ul>
    <li>Notice that this module <b>will no longer be supported</b>, users should convert
      to the <a href="http://cars.uchicago.edu/software/epics/areaDetector.html">areaDetector</a>
      module.</li>
    <li>Use the busy record from the new "busy" module, moved from the sscan module.</li>
    <li>Support parallel make (make -j).</li>
  </ul>
  <h2 style="text-align: center">
    Release 1-5 (1-Feb-2008)</h2>
  <ul>
    <li>Added new PV, Armed. Armed changes from 0 to 1 when the Pilatus is ready to accept
      trigger pulses after Acquire has been set to 1. This PV should be used by clients
      that are going to cause trigger pulses to be sent to the Pilatus to indicate when
      it is OK to start sending the trigger pulses. There was previously no way to know
      when the Pilatus was ready to accept trigger pulses.<br />
      pilatusROI waits for the "15 OK" response from camserver to the acquire start command
      before setting Armed=1. This requires camserver 7.2.70 dated January 31, 2008 or
      later, because earlier versions did not wait to send the 15 OK response until the
      detector was ready to accept triggers.</li>
  </ul>
  <h2 style="text-align: center">
    Release 1-4 (9-Jan-2008)</h2>
  <ul>
    <li>Added new PV, Gain. This is used to control Vrf, which selects both the shaping
      time and the gain of the input amplifiers. The shaping time/gain selections are
      Fast/Low, Medium/Medium, Slow/High or VerySlow/Ultrahigh. This value is sent to
      camserver in the SetThreshold along with the Threshold energy. It is done by the
      SNL program, because 2 PVs need to be combined into a single command and this is
      more difficult to do with the stream device. Thanks for Beat Henrich for pointing
      out the need to add this.</li>
    <li>Fixed a race condition in the SNL program. Previously it was possible for the
      Acquire PV to be set to 1 again (typically in a scan) before the SNL program was
      ready for that to happen.</li>
  </ul>
  <h2 style="text-align: center">
    Release 1-3 (8-Jan-2008)</h2>
  <ul>
    <li>Added new acquire mode, MultipleTrigger. This mode requires the firmware version
      that Dectris released in late 2007 (version 1215?). Multiple trigger mode takes
      one exposure of the programmed exposure time on each falling edge of the external
      trigger input signal.</li>
    <li>Added new PV, ThresholdEnergy, to control the energy threshold of the Pilatus.
      Being able to set this value from EPICS means that there is no longer any need to
      run TVX, everything can be done through EPICS.</li>
    <li>Added EPICS sscan records to allow the EPICS IOC to scan EPICS PVs. In particular
      this is very useful for scanning the ThesholdEnergy PV to make sure that it is set
      correctly for the energy of the x-rays in use.</li>
    <li>Changed the prefix of PVs in the example IOC from GSE-PILATUS1: to PILATUS:.</li>
    <li>Fixed spelling of ReadTiffTimeout in pilatusROIDoc.html.</li>
    <li>Changes in the camserver protocol required the following changes:
      <ul>
        <li>Changed all of the response numbers on expected responses (e.g.14 OK becomes 15
          OK). </li>
        <li>Changed the white space in many of the expected responses.</li>
        <li>Changed the input terminator from \n\030 to \030.</li>
      </ul>
    </li>
    <li>Force NExposures (number of exposures per frame) to be 1 in all modes except External
      Enable.</li>
    <li>Released an enhanced version of the IDL epics_image_display source code and .sav
      file for the IDL Virtual Machine. The new version preserves zoom and intensity scaling
      when new images are displayed, and adds new controls for autoscaling, zoom, and
      display direction. It can be obtained in the <a href="http://cars.uchicago.edu/software/IDL/imaging.html">
        GSECARS imaging software.</a></li>
  </ul>
  <h2 style="text-align: center">
    Release 1-2 (17-Aug-2007)</h2>
  <ul>
    <li>Minor changes to allow building on win32-x86 and cygwin32-x86.</li>
    <li>Major bug fix when running on big-endian machines. Needed to byte-swap in read_tiff.</li>
    <li>Print specific error if read_tiff times out because of file time stamp.</li>
  </ul>
  <h2 style="text-align: center">
    Release 1-1 (11-Jul-2007)</h2>
  <p>
    First release.</p>
  <address>
    Suggestions and Comments to:
    <br />
    <a href="mailto:rivers@cars.uchicago.edu">Mark Rivers </a>: (rivers@cars.uchicago.edu)
    <br />
  </address>
</body>
</html>
