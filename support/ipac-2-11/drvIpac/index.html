<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Andrew Johnson">
   <meta name="Description" content="The drvIpac IndustryPack software">
   <meta name="KeyWords" content="EPICS, IndustryPack, ipac, driver support">
   <meta name="Version" content="$Id: index.html 177 2008-11-11 20:41:45Z anj $">
   <title>EPICS Ipac Module</title>
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<img src="http://www.aps.anl.gov/epics/icons/logo101.gif" alt="EPICS" hspace=5 height=101 width=101 align=right>
<h1>
EPICS Ipac Module</h1>

<dl>
<dt>
Module Owner:</dt>

<dd>
<a href="mailto:anj@aps.anl.gov">Andrew Johnson</a></dd>
</dl>

<p>
This page is the home of the EPICS Ipac module, which provides a standard
EPICS interface for Industry Pack carrier boards, and ensures that
drivers for individual IP modules do not need to understand or control the
carrier board they are installed in. Also included with this software are
several IP module drivers that use the Ipac carrier layer.</p>

<p>
This web-site gives access to the Ipac source code, information on other
modules which are needed to install and run it, and documentation on the how to
include and use it in your EPICS applications. Please email any comments,
questions or bug reports <a href="mailto:anj@aps.anl.gov">to me</a>.</p>

<h2>
Hardware Supported</h2>

<p>
Software is included to control the following hardware:</p>

<ul>
<li>
<a href="http://www.gefanucembedded.com/">GE Fanuc Embedded Systems</a> (was
GreenSpring, then SBS) VIPC310, VIPC610, VIPC616,
<a href="http://www.gefanucembedded.com/search/index.php?type=products&search=VIPC">VIPC626</a>
(VIPC627, VIPC628 and VIPC664 may also work) and ATC40 dumb carrier boards</li>

<li>
<a href="http://www.tews.com">TEWS Technologies</a>
<a href="http://www.tews.com/Products/ArticleGroup/TVME/TVME200.html">TVME200</a>
4 slot carrier board (TVME201 and TVME220 should also work)</li>

<li>
<a href="http://mcg.motorola.com">Motorola</a>
<a href="http://mcg.motorola.com/cfm/templates/category.cfm?subCatID=1">
MVME162 and MVME172</a> MC680x0 CPU boards with IP slots</li>

<li>
<a href="http://www.tews.com">TEWS Technologies</a>
<a href="http://www.tews.com/Products/ArticleGroup/TIP/TIP810.html">Tip810</a>
Basic CANbus interface module</li>

<li>
<a href="http://www.sbs.com/">SBS</a> (was GreenSpring)
<a href="http://www.gefanucembedded.com/products/141">IP-OCTAL-232
serial interface module</a> (<i>not</i> the newer IP-OctalPlus-232)</li>

</ul>

<p>
Other module and carrier drivers are also available that use drvIpac, see the
EPICS <a href="http://www.aps.anl.gov/epics/modules/bus.php">Hardware Support
Database</a> for a list.</p>

<h2>
Where to Find it</h2>

<ul>

<li>
The canonical URL for this page is
<a href="http://www.aps.anl.gov/epics/modules/bus/ipac">http://www.aps.anl.gov/epics/modules/bus/ipac</a>.</li>

<li>
The software is available for download from the links given in the table
below:

<blockquote>
<table border=1>
<tr>
<th>
Version</th>

<th>
EPICS Release</th>

<th>
Filename</th>
</tr>

<tr>
<td align=center>
2.0</td>

<td>
R3.13.x</td>

<td>
<a href="http://www.aps.anl.gov/epics/download/modules/ipac-2.0.tar.gz">ipac-2.0.tar.gz</a></td>
</tr>

<tr>
<td align=center>
2.1</td>

<td>
R3.13.x</td>

<td>
<a href="http://www.aps.anl.gov/epics/download/modules/ipac-2.1.tar.gz">ipac-2.1.tar.gz</a></td>
</tr>

<tr>
<td align=center>
2.2</td>

<td>
R3.13.x</td>

<td>
<a href="http://www.aps.anl.gov/epics/download/modules/ipac-2.2.tar.gz">ipac-2.2.tar.gz</a></td>
</tr>

<tr>
<td align=center>
2.3</td>

<td>
R3.13.x</td>

<td>
<a href="http://www.aps.anl.gov/epics/download/modules/ipac-2.3.tar.gz">ipac-2.3.tar.gz</a></td>
</tr>

<tr>
<td align=center>
2.4</td>

<td>
R3.13.x</td>

<td>
<a href="http://www.aps.anl.gov/epics/download/modules/ipac-2.4.tar.gz">ipac-2.4.tar.gz</a></td>
</tr>

<tr>
<td align=center>
2.5</td>

<td>
R3.14.2</td>

<td>
<a href="http://www.aps.anl.gov/epics/download/modules/ipac-2.5.tar.gz">ipac-2.5.tar.gz</a></td>
</tr>

<tr>
<td align=center>
2.6</td>

<td>
R3.14.4 or later</td>

<td>
<a href="http://www.aps.anl.gov/epics/download/modules/ipac-2.6.tar.gz">ipac-2.6.tar.gz</a></td>
</tr>

<tr>
<td align=center>
2.7</td>

<td>
R3.14.4 or later</td>

<td>
<a href="http://www.aps.anl.gov/epics/download/modules/ipac-2.7a.tar.gz">ipac-2.7a.tar.gz</a></td>
</tr>

<tr>
<td align=center>
2.8</td>

<td>
R3.14.4 or later</td>

<td>
<a href="http://www.aps.anl.gov/epics/download/modules/ipac-2.8.tar.gz">ipac-2.8.tar.gz</a></td>
</tr>

<tr>
<td align=center>
2.9</td>

<td>
R3.14.9 or later</td>

<td>
<a href="http://www.aps.anl.gov/epics/download/modules/ipac-2.9.tar.gz">ipac-2.9.tar.gz</a></td>
</tr>

</table>
</blockquote></li>

<li>
Information on the difference between releases is given in the various Release
Notes (see the <a href="#documentation">Documentation</a> section below).</li>

<li>
From version 2.2 onwards most of the software contained in this distribution is
licensed under the <a href="http://www.gnu.org/copyleft/lesser.html">GNU Lesser
General Public License</a>, although some files are not mine to be able to
change their license conditions.  If this concerns you, check the individual
source files for information on their status - all LGPL source files include a
statement to that effect in the file header comments.</li>

</ul>

<h2>
Site Installation and Building</h2>

<p>
Installation instructions are given in the <a href="drvIpac.html">drvIpac
documentation</a>.</p>

<h2>
Application Installation</h2>

<p>
The precise method of using this support software in an &lt;ioctop&gt;
application depends on the version of EPICS Base you're using.  All file
modifications described here are to files in your &lt;ioctop&gt;; you don't
have to make any more changes to the drvIpac release files, you already made
those when you followed the instructions in the previous section.</p>

<h3>
EPICS R3.13.x</h3>

<ol>
<li>
You must use drvIpac release 2.4 or earlier. Edit the <tt>config/RELEASE</tt>
file and add the line

<blockquote>
<pre>IPAC=<i>/path/to/ipac/version</i></pre>
</blockquote></li>

<li>
If you are still using an EPICS version prior to 3.13.2 (or your &lt;ioctop&gt;
predates 3.13.2 and you haven't updated the files in config since then), edit
the <tt>config/CONFIG_APP</tt> file and add the following lines.  This step is
<b>not</b> required from EPICS 3.13.2 onwards.

<blockquote>
<pre>ifdef IPAC
USR_INCLUDES += -I$(IPAC)/include
IPAC_BIN = $(IPAC)/bin/$(T_A)
USER_DBDFLAGS += -I $(IPAC)/dbd
endif</pre>
</blockquote></li>

<li>
In the application source directory where the base object files are linked
together, edit <tt>Makefile.Vx</tt> and add

<blockquote>
<pre>
LIBOBJS += $(IPAC_BIN)/ipacLib     # for drvIpac, and
LIBOBJS += $(IPAC_BIN)/tip810Lib   # if you want CANbus support</pre>
</blockquote></li>

<li>
Ensure the following is included in the construction of the application's
database definition file

<blockquote>
<pre>
include "drvIpac.dbd"              # if you only want drvIpac, or
include "devTip810.dbd"            # if you want CANbus support too</pre>
</blockquote></li>

<li>
Rebuild the application and use the newly installed support as desired.</li>
</ol>

<h3>
EPICS R3.14.2</h3>

<ol>
<li>
You must use drvIpac release 2.5. Edit the <tt>configure/RELEASE</tt> file and
add the line

<blockquote>
<pre>IPAC=<i>/path/to/ipac/version</i></pre>
</blockquote></li>

<li>
In the application source directory where the object files are linked together,
edit the <tt>Makefile</tt> and add

<blockquote>
<pre>
&lt;myapp&gt;_LDOBJS_vxWorks += $(IPAC_BIN)/ipacLib    # for drvIpac,
&lt;myapp&gt;_LDOBJS_vxWorks += $(IPAC_BIN)/tip810Lib  # for CANbus support
&lt;myapp&gt;_OBJS_vxWorks   += $(IPAC_BIN)/tyGSOctal  # for SBS Octal UART</pre>
</blockquote></li>

<li>
Ensure the following is included in the construction of the application's
database definition file <tt>appInclude.dbd</tt>.

<blockquote>
<pre>
include "drvIpac.dbd"              # if you only want drvIpac,
include "devTip810.dbd"            # if you want CANbus support too</pre>
</blockquote></li>

<li>
Rebuild the application and use the newly installed support as desired.</li>
</ol>

<h3>
EPICS R3.14.3 or later</h3>

<ol>
<li>
You must use drvIpac release 2.6 or later, see the above table for accurate
version requirements. Edit the <tt>configure/RELEASE</tt> file and add the line

<blockquote>
<pre>IPAC=<i>/path/to/ipac/version</i></pre>
</blockquote></li>

<li>
In the application source directory where the object files are linked together,
edit the <tt>Makefile</tt> and add

<blockquote>
<pre>
&lt;myapp&gt;_LIBS += Ipac         # for drvIpac,
&lt;myapp&gt;_LIBS += Tip810       # for CANbus support
&lt;myapp&gt;_LIBS += TyGSOctal    # for SBS Octal UART</pre>
</blockquote></li>

<li>
Ensure one or more of the following lines is included in the construction of
the application's database definition file <tt>xxxInclude.dbd</tt>:

<blockquote>
<pre>
include "drvIpac.dbd"              # if you only want drvIpac,
include "devTip810.dbd"            # if you want IPAC + CANbus support, or
include "tyGSOctal.dbd"            # for IPAC + SBS Octal Serial support</pre>
</blockquote></li>

<li>
You may also need to make a local copy of the <tt>drvIpac.dbd</tt> file in your
application's source directory if you need to change the set of carrier drivers
to be included in the application - these are controlled by the
<tt>registrar()</tt> statements which are uncommented in that file.</li>

<li>
Rebuild the application and use the newly installed support as desired.</li>
</ol>

<h2>
<a name="documentation">Documentation</a></h2>

<p>
The following documentation is available:</p>

<blockquote>
<table border=1>

<tr>
<th>Title</th><th>Release Version</th></tr>

<tr>
<td>Index - Read first</td>
<td>
<a href="../R2.3/index.html">2.3</a>
<a href="../R2.4/index.html">2.4</a>
<a href="../R2.5/index.html">2.5</a>
<a href="../R2.6/index.html">2.6</a>
<a href="../R2.7/index.html">2.7</a>
<a href="../R2.8/index.html">2.8</a>
<a href="index.html">2.9</a>
</td>
</tr>

<tr>
<td>drvIpac - Industry Pack Driver</td>
<td>
<a href="../R2.3/drvIpac.html">2.3</a>
<a href="../R2.4/drvIpac.html">2.4</a>
<a href="../R2.5/drvIpac.html">2.5</a>
<a href="../R2.6/drvIpac.html">2.6</a>
<a href="../R2.7/drvIpac.html">2.7</a>
<a href="../R2.8/drvIpac.html">2.8</a>
<a href="drvIpac.html">2.9</a>
</td>
</tr>

<tr>
<td>IPAC Driver Release Notes</td>
<td>
<a href="../R2.3/ipacRelease.html">2.3</a>
<a href="../R2.4/ipacRelease.html">2.4</a>
<a href="../R2.5/ipacRelease.html">2.5</a>
<a href="../R2.6/ipacRelease.html">2.6</a>
<a href="../R2.7/ipacRelease.html">2.7</a>
<a href="../R2.8/ipacRelease.html">2.8</a>
<a href="ipacRelease.html">2.9</a>
</td>
</tr>

<tr>
<td>drvTip810 - CAN Bus Driver</td>
<td>
<a href="../R2.3/drvTip810.html">2.3</a>
<a href="../R2.4/drvTip810.html">2.4</a>
<a href="../R2.5/drvTip810.html">2.5</a>
<a href="../R2.6/drvTip810.html">2.6</a>
<a href="../R2.7/drvTip810.html">2.7</a>
<a href="../R2.8/drvTip810.html">2.8</a>
<a href="drvTip810.html">2.9</a>
</td>
</tr>

<tr>
<td>devCan - CAN Bus Device Support</td>
<td>
<a href="../R2.3/devCan.html">2.3</a>
<a href="../R2.4/devCan.html">2.4</a>
<a href="../R2.5/devCan.html">2.5</a>
<a href="../R2.6/devCan.html">2.6</a>
<a href="../R2.7/devCan.html">2.7</a>
<a href="../R2.8/devCan.html">2.8</a>
<a href="devCan.html">2.9</a>
</td>
</tr>

<tr>
<td>CANbus Driver Release Notes</td>
<td>
<a href="../R2.3/canRelease.html">2.3</a>
<a href="../R2.4/canRelease.html">2.4</a>
<a href="../R2.5/canRelease.html">2.5</a>
<a href="../R2.6/canRelease.html">2.6</a>
<a href="../R2.7/canRelease.html">2.7</a>
<a href="../R2.8/canRelease.html">2.8</a>
<a href="canRelease.html">2.9</a>
</td>
</tr>

<tr>
<td>SBS OctalUart IP Module Support</td>
<td>
<a href="../R2.3/tyGSOctal.html">2.3</a>
<a href="../R2.4/tyGSOctal.html">2.4</a>
<a href="../R2.5/tyGSOctal.html">2.5</a>
<a href="../R2.6/tyGSOctal.html">2.6</a>
<a href="../R2.7/tyGSOctal.html">2.7</a>
<a href="../R2.8/tyGSOctal.html">2.8</a>
<a href="tyGSOctal.html">2.9</a>
</td>
</tr>

<tr>
<td>SBS Octal Serial Driver Release Notes</td>
<td>
<a href="../R2.3/tyGSOctalRelease.html">2.3</a>
<a href="../R2.4/tyGSOctalRelease.html">2.4</a>
<a href="../R2.5/tyGSOctalRelease.html">2.5</a>
<a href="../R2.6/tyGSOctalRelease.html">2.6</a>
<a href="../R2.7/tyGSOctalRelease.html">2.7</a>
<a href="../R2.8/tyGSOctalRelease.html">2.8</a>
<a href="tyGSOctalRelease.html">2.9</a>
</td>
</tr>

</table>
</blockquote>


<h2>
In Use</h2>

<p>
This software was originally developed at the RGO for Gemini and UKIRT, and is
now being used at <i>many</i> EPICS sites.</p>

<hr>

<address>
<a href="mailto:anj@aps.anl.gov">Andrew Johnson</a></address>

</body>
</html>
