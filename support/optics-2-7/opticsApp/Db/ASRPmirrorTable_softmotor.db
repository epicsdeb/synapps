#! Generated by VisualDCT v2.5
#! DBDSTART
#! DBD("../../dbd/iocxxxCygwin.dbd")
#! DBDEND


record(transform, "$(P)$(TBL):tran") {
  field(DESC, "mirror tran")
  field(PREC, "3")
  field(CMTA, "pivot-to-fixed-point dist")
  field(CMTB, "pivot-to-motor dist.")
  field(CMTC, "Curr Pitch motor")
  field(CMTD, "Curr Vert motor")
  field(CMTE, "Curr height of f.p.")
  field(CMTF, "new pitch angle (mR)")
  field(CMTG, "new pitch motor")
  field(CMTH, "height diff")
  field(CLCE, "d+a*c/b")
  field(CLCG, "b*tan(f/1000)")
  field(CLCH, "a*(g-c)/b")
  field(INPC, "$(PITCH) NPP NMS")
  field(INPD, "$(VERT) NPP NMS")
  field(INPB, "$(P)$(TBL):pitchArmLen.VAL")
  field(SDIS, "$(P)$(TBL):autosync.PACT")
  field(CLCI, "d-h")
  field(INPA, "$(P)$(TBL):fixedPointZ")
  field(OUTG, "$(PITCH) PP NMS")
  field(OUTI, "$(VERT) PP NMS")
  field(CMTI, "new vert")
}

record(transform, "$(P)$(TBL):autosync") {
  field(DESC, "autosync to pitch")
  field(PREC, "3")
  field(INPA, "$(PITCH) CPP NMS")
  field(CLCC, "atan(a/b)*1000")
  field(INPB, "$(P)$(TBL):pitchArmLen.VAL")
  field(CMTA, "raw pitch motor")
  field(CMTB, "pitch arm length")
  field(CMTC, "pitch angle (mR)")
  field(OUTC, "$(P)$(TBL):coupledPitchAngle PP")
}

record(ao, "$(P)$(TBL):pitchArmLen") {
}

record(ao, "$(P)$(TBL):fixedPointZ") {
}

record(motor, "$(P)$(TBL):coupledPitchAngle") {
  field(OUT, "$(P)$(TBL):tran.F PP")
}

#! Further lines contain data used by VisualDCT
#! View(0,0,1.0)
#! Record("$(P)$(TBL):tran",860,-163,0,1,"$(P)$(TBL):tran")
#! Field("$(P)$(TBL):tran.SDIS",16777215,0,"$(P)$(TBL):tran.SDIS")
#! Link("$(P)$(TBL):tran.SDIS","$(P)$(TBL):tran/SDIS")
#! Field("$(P)$(TBL):tran.INPA",16777215,0,"$(P)$(TBL):tran.INPA")
#! Link("$(P)$(TBL):tran.INPA","$(P)$(TBL):fixedPointZ.VAL")
#! Field("$(P)$(TBL):tran.INPB",16777215,0,"$(P)$(TBL):tran.INPB")
#! Link("$(P)$(TBL):tran.INPB","$(P)$(TBL):pitchArmLen.VAL")
#! Field("$(P)$(TBL):tran.INPC",16777215,0,"$(P)$(TBL):tran.INPC")
#! Link("$(P)$(TBL):tran.INPC","$(P)$(TBL)tran/INPC")
#! Field("$(P)$(TBL):tran.INPD",16777215,0,"$(P)$(TBL):tran.INPD")
#! Link("$(P)$(TBL):tran.INPD","$(P)$(TBL)tran/INPD")
#! Field("$(P)$(TBL):tran.F",16777215,0,"$(P)$(TBL):tran.F")
#! Connector("$(P)$(TBL)tran/INPC",null,780,260,16777215,"",3)
#! Connector("$(P)$(TBL)tran/INPD",null,780,280,16777215,"",3)
#! Field("$(P)$(TBL):tran.OUTG",16777215,1,"$(P)$(TBL):tran.OUTG")
#! Link("$(P)$(TBL):tran.OUTG","$(P)$(TBL):tran/OUTG")
#! Field("$(P)$(TBL):tran.OUTI",16777215,1,"$(P)$(TBL):tran.OUTI")
#! Link("$(P)$(TBL):tran.OUTI","$(P)$(TBL):tran/OUTI")
#! Connector("$(P)$(TBL):tran/OUTG",null,1120,320,16777215,"",2)
#! Connector("$(P)$(TBL):tran/OUTI",null,1120,340,16777215,"",2)
#! Connector("$(P)$(TBL):tran/SDIS","$(P)$(TBL):autosync.PACT",800,150,16777215,"",0)
#! Record("$(P)$(TBL):autosync",440,-102,0,0,"$(P)$(TBL):autosync")
#! Field("$(P)$(TBL):autosync.PACT",16777215,1,"$(P)$(TBL):autosync.PACT")
#! Field("$(P)$(TBL):autosync.INPA",16777215,0,"$(P)$(TBL):autosync.INPA")
#! Link("$(P)$(TBL):autosync.INPA","$(P)$(TBL)autosync/INPA")
#! Field("$(P)$(TBL):autosync.INPB",16777215,0,"$(P)$(TBL):autosync.INPB")
#! Link("$(P)$(TBL):autosync.INPB","$(P)$(TBL):autosync/INPB")
#! Connector("$(P)$(TBL)autosync/INPA",null,340,80,16777215,"",3)
#! Field("$(P)$(TBL):autosync.OUTC",16777215,1,"$(P)$(TBL):autosync.OUTC")
#! Link("$(P)$(TBL):autosync.OUTC","$(P)$(TBL):autosync/OUTC3")
#! Connector("$(P)$(TBL):autosync/OUTC","$(P)$(TBL):autosync/OUTC1",530,180,16777215,"",0)
#! Connector("$(P)$(TBL):autosync/OUTC1","$(P)$(TBL):coupledPitchAngle.VAL",380,255,16777215,"",0)
#! Connector("$(P)$(TBL):autosync/INPB","$(P)$(TBL):pitchArmLen.VAL",320,180,16777215,"",0)
#! Connector("$(P)$(TBL):autosync/OUTC3","$(P)$(TBL):autosync/OUTC",680,165,16777215,"",0)
#! Record("$(P)$(TBL):pitchArmLen",0,162,0,1,"$(P)$(TBL):pitchArmLen")
#! Field("$(P)$(TBL):pitchArmLen.VAL",16777215,1,"$(P)$(TBL):pitchArmLen.VAL")
#! Record("$(P)$(TBL):fixedPointZ",0,62,0,1,"$(P)$(TBL):fixedPointZ")
#! Field("$(P)$(TBL):fixedPointZ.VAL",16777215,1,"$(P)$(TBL):fixedPointZ.VAL")
#! Record("$(P)$(TBL):coupledPitchAngle",440,249,0,1,"$(P)$(TBL):coupledPitchAngle")
#! Field("$(P)$(TBL):coupledPitchAngle.VAL",16777215,0,"$(P)$(TBL):coupledPitchAngle.VAL")
#! Field("$(P)$(TBL):coupledPitchAngle.OUT",16777215,1,"$(P)$(TBL):coupledPitchAngle.OUT")
#! Link("$(P)$(TBL):coupledPitchAngle.OUT","$(P)$(TBL):tran.F")
