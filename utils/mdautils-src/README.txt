MDA Utilities
November 2009

--------------------------------------------------------------
mda2ascii v1.0.0
mda-dump v1.0.0
mda-info v1.0.0
mda-ls v1.0.0
mda-load library v1.0.0

Written by Dohn A. Arms, Argonne National Laboratory
Send comments to dohnarms@anl.gov

See LICENSE file for licensing of these programs and code.
--------------------------------------------------------------


These utilities are used for accessing MDA files generated by the
saveData routine in EPICS, and can handles MDA files of any dimension.



Utilities:
-----------

1) mda2ascii - This program converts MDA files to ASCII files, with
various options, so the data can be read directly into a
plotting/fitting program.  The instructions for use can be found by
running "mda2ascii -h" or reading the man page (there is a PDF version
included).

2) mda-dump - This program will dump to the screen the entire contents
of an MDA file, exactly as how they appear in the file.  This program
can be useful for debugging purposes, as it prints out information
immediately after loading it.  It does not use the mda-load library,
instead using direct functions for reading the file.

3) mda-info - This program will print to the screen information about
an MDA file.  It shows things such as the time, the dimensionality,
positioners, detectors, and triggers used.  This program does not load
the entire file, just the relevant information, making it fast.

4) mda-ls - This program print to the screen a listing of all the MDA
files in the current or a specified directory.  It show the name,
dimensionality, positioners, and optionally the time for each file.
It is possible to filter the listing to those files including a
certain positioner, detector, or trigger.

5) mda-load library - This is the engine used for reading the MDA
files.  The library functions are relatively simple, as there are very
few.  Accessing the data -- due to the arbitrary dimensional nature of
the MDA files -- can be complicated, and familiarity with structures
and pointers in C is a must.  The manual for it is mda-load.pdf, and
reading mda-load.h can be helpful.  It could be built as a shared
library, but since it is rather small and different systems utilize
shared libraries differently, I didn't set this up.



Requirements:
-------------

MDA Utilities have been successfully compiled on Linux, Solaris, and
Mac OS X using gcc, make, and ar.  They have also been compiled on
Windows using MinGW and MSYS.  I am sure it would be simple to compile
it on other platforms using other compilers, but I have no way to try.

The only library requirement is access to the standard XDR routines.
With Linux, they're are part of glibc (Linux's standard C library),
while with Solaris, they are part of the standard Networking Services
Library (nsl).  I've been told the utilities compile under Mac OS X
using the Linux configuration.  So, no extra packages should have to
be installed.

There are no XDR routines in Windows, and an external library has to
be used.  I used portablexdr 4.0.11, with a bug fix for floating point
numbers.  The Makefile has to be modified to link in the library to be
used as well.



Compiling:
----------

If building from source code, all you need to do is type "make" when
in the source directory, and the executables and library should be
made.



Installing:
-----------

This assumes you are installing it system-wide.  If you are using it
locally, put the files wherever you want, and skip this section.  You
don't have to install everything; you can simply install the
executables and forget the rest.

Assume you are installing into the "/usr/local" tree:
Copy "mda2ascii", "mda-dump", "mda-ls", and "mda-info" to
    "/usr/local/bin".
Copy "mda2ascii.1", "mda-dump.1", "mda-ls.1", and "mda-info.1" to
    "/usr/local/man/man1".
Copy "libmda-load.a" to "/usr/local/lib".  
Copy "mda-load.h" to "/usr/local/include".

